<!DOCTYPE html>
<html lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- SITE TITLE -->
    <title>أصبع بطاقة أهداء</title>
    <!-- Bootstrap min CSS -->
    <link href="media\css\bootstrap.min.css" rel="stylesheet">
    <!-- Owl Carouse CSS -->
    <link href="media\css\owl.carousel.min.css" rel="stylesheet">
    <link href="media\css\owl.theme.default.css" rel="stylesheet">
    <!-- Style CSS -->
    <link href="media\css\style.css" rel="stylesheet">
    <!-- RTL CSS -->
    <link href="media\css\rtl.css" rel="stylesheet">
    <!-- Responsive CSS -->
    <link href="media\css\responsive.css" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="media\img\logo.png">
    <link href="media\fonts\CairoFont.css" rel="stylesheet" />
    <style>
        body {
            font-family: 'Cairo', sans-serif !important;
        }

        h2, h1, h3, h4, h5, h6, a, p, li, span {
            font-family: 'Cairo', sans-serif !important;
            letter-spacing: 0px !important;
        }

        .gradient-bg {
            background: linear-gradient(to right, #4b68da,#AD1457) !important;
        }

        .ColorSwitcher {
            display: none;
        }

        .single-slider-item .welcome-phone {
            max-width: 500px !important;
        }

        .slider-text {
            text-align: center !important;
        }
    </style>
</head>

<body data-spy="scroll" data-offset="70">
    <!-- START PRELOADER -->
    <div class="preloader-wrap">
        <div class="preloader">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
    <!-- END PRELOADER -->
    <!-- START NAVBAR -->
    <nav class="navbar fixed-top navbar-expand-md navbar-light top-menu">
        <div class="container">
            <a class="navbar-brand" href="#" style="font-family: Algerian !important;font-size: 40px;">
                <img src="media\img\logo.png" style="width: 50px;" />
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">

            </div>
        </div>
    </nav>
    <!-- END NAVBAR -->
    <!-- START HOMEPAGE SLIDER -->
    <div id="home" class="hompage-slides-wrapper">
        <div class="homepage-slides owl-carousel owl-theme">
            <div class="single-slider-item gradient-bg wave-bg-two">
                <div class="slide-item-table">
                    <div class="slide-item-tablecell">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12 col-lg-7">
                                    <div class="slider-text">
                                        <h1></h1>
                                        <p>أكتب أسمك و أسم المرسل إليه الأهداء</p>

                                        <div class="slide-button">
                                            <input type="text" value="مؤمن مصطفي" id="FromInPut" placeholder="أكتب أسمك هنا" class="form-control" />
                                            <input type="text" value="أحمد جادو" placeholder="أكتب أسم المرسل إليه الأهداء " class="form-control" id="ToInput" />
                                            <input type="button" value="أنشاء الصورة" onclick="GenerateImage()" class="btn btn-primary" />
                                        </div>
                                    </div>
                                </div><!-- END COL -->

                                <div class="col-md-12 col-lg-5">
 <div class="welcome-phone">
                                    <img id="canvasImg" src="media\img\img.jpg" alt="Img">
</div>
                                </div><!-- END COL -->
                            </div><!-- END ROW -->
                        </div><!-- END CONTAINER -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="text-align:center;">
                    <h5 class="modal-title" id="exampleModalLabel">بطاقة الأهداء</h5>
                </div>
                <div class="modal-body">
                    <canvas id="idCanvas" width="576" height="577" style="padding: 0 0 0 12%;"> </canvas>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">أغلاق</button>
                    <button type="button" onclick="Download()" class="btn btn-primary">تحميل</button>
                </div>
            </div>
        </div>
    </div>




    <!-- END HOMEPAGE SLIDER -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="media\js\jquery-1.12.4.min.js"></script>
    <script src="media\js\bootstrap.min.js"></script>
    <!-- Owl Carousel JS -->
    <script src="media\js\owl.carousel.min.js"></script>
    <!-- Custom JS -->
    <script src="media\js\custom.js"></script>

    <script>

        function GenerateImage() {
            var From = $('#FromInPut').val();
            var To = $('#ToInput').val();
            if (From == "")
                return alert("أكتب أسمك أولا");
            if (To == "")
                return alert("أكتب أسم المرسل إليه أولا");

            var canvas = document.getElementById('idCanvas');
            var context = canvas.getContext('2d');
            var imageObj = new Image();
            imageObj.src = "media/img/img.jpg";

            context.drawImage(imageObj, 0, 0, 576, 577);
            context.font = "25px Cairo";
            context.fillText(From, 370, 417);
            context.fillText(To, 215, 197);
            //document.getElementById('canvasImg').setAttribute('crossOrigin', 'anonymous');
          
            $('#exampleModal').modal("show");
        }

        function Download() {
            var canvas = document.getElementById('idCanvas');
            var link = document.createElement('a');
            var dataURL = canvas.toDataURL();
            link.download = "my-image.jpg";
            link.href = dataURL;
            //alert(link.href);
            link.click();
        }


        $("#FromInPut").on("change", function () {
            var Val = $(this).val();
            $('#FromInPut').val(Val);
        });

        $("#ToInput").on("change", function () {
            var Val = $(this).val();
            $('#ToInput').val(Val);
        });

    </script>
</body>

</html>
